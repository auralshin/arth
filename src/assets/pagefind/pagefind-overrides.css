/* Custom Pagefind UI overrides to keep the search bar consistent across dev and prod builds */

body .pagefind-ui {
  width: 100%;
  max-width: none;
  background: transparent !important;
  border: none !important;
  padding: 0 !important;
  box-shadow: none !important;
  font-family: 'Source Sans Pro', 'Helvetica Neue', sans-serif !important;
  position: relative;
}

body .pagefind-ui__form {
  position: relative;
  display: flex !important;
  align-items: center;
  width: 100%;
  margin: 0 !important;
  padding: 0 !important;
  min-height: 48px;
  border-radius: 12px;
  border: 1px solid var(--header-search-border, rgba(255, 255, 255, 0.18));
  background: var(--header-search-background, rgba(255, 255, 255, 0.12));
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
}

body .pagefind-ui__form::before {
  content: '';
  position: absolute;
  left: 18px;
  top: 50%;
  transform: translateY(-50%);
  width: 20px;
  height: 20px;
  background-color: var(--header-search-icon, rgba(255, 255, 255, 0.7));
  mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M10.5 3a7.5 7.5 0 1 1 5.86 12.235l4.202 4.203a1 1 0 0 1-1.414 1.414l-4.203-4.202A7.5 7.5 0 1 1 10.5 3Zm0 2a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11Z' fill='%23fff'/%3E%3C/svg%3E")
    no-repeat center / contain;
  -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none'%3E%3Cpath d='M10.5 3a7.5 7.5 0 1 1 5.86 12.235l4.202 4.203a1 1 0 0 1-1.414 1.414l-4.203-4.202A7.5 7.5 0 1 1 10.5 3Zm0 2a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11Z' fill='%23fff'/%3E%3C/svg%3E")
    no-repeat center / contain;
  pointer-events: none;
}

body .pagefind-ui__search-input {
  flex: 1 1 auto;
  width: 100%;
  min-height: 48px;
  padding: 12px 56px 12px 52px !important;
  border: none !important;
  border-radius: 12px !important;
  background: transparent !important;
  color: var(--header-search-text, #fff) !important;
  font-size: 16px !important;
  font-weight: 500 !important;
  line-height: 24px !important;
  box-shadow: none !important;
}

body .pagefind-ui__search-input::placeholder {
  color: var(--header-search-placeholder, rgba(255, 255, 255, 0.7)) !important;
  opacity: 1;
}

body .pagefind-ui__search-input:focus,
body .pagefind-ui__search-input:focus-visible {
  outline: none !important;
  background: transparent !important;
}

body .pagefind-ui__search-clear {
  position: absolute;
  right: 14px;
  top: 50%;
  transform: translateY(-50%);
  padding: 4px 10px;
  border-radius: 6px;
  border: none;
  background: var(
    --header-search-background-focus,
    rgba(255, 255, 255, 0.12)
  );
  background: color-mix(in srgb, var(--header-search-clear, var(--primary)) 14%, transparent);
  color: var(--header-search-clear, var(--primary)) !important;
  font-weight: 600;
  font-size: 13px;
  cursor: pointer;
  transition: background 150ms ease, opacity 150ms ease, transform 150ms ease;
}

body .pagefind-ui__search-clear.pagefind-ui__suppressed {
  display: none !important;
}

body .pagefind-ui__search-clear:hover,
body .pagefind-ui__search-clear:focus-visible {
  opacity: 0.9;
  outline: none;
}

body .pagefind-ui__search-clear:active {
  transform: translateY(-50%) scale(0.95);
}

body .pagefind-ui__drawer {
  display: none !important;
}

body .pagefind-ui__results {
  position: absolute;
  top: calc(100% + 12px);
  left: 0;
  right: 0;
  width: 100%;
  margin: 16px 0 0 !important;
  padding: 12px 0 !important;
  border-radius: 16px !important;
  border: 1px solid var(--header-search-results-border, rgba(255, 255, 255, 0.14)) !important;
  background: var(--header-search-results-background, rgba(18, 18, 18, 0.92)) !important;
  box-shadow: 0 18px 70px rgba(0, 0, 0, 0.35) !important;
  max-height: min(70vh, 540px);
  overflow: auto;
  backdrop-filter: blur(18px);
  -webkit-backdrop-filter: blur(18px);
}

body .pagefind-ui__results-area {
  background: transparent !important;
  padding: 0 !important;
}

body .pagefind-ui__result {
  display: block;
  padding: 16px 22px !important;
  color: var(--header-search-result-title, var(--color-1dp, #f1f1f1)) !important;
  transition: background 140ms ease;
  border-top: 1px solid var(--header-search-results-border, rgba(255, 255, 255, 0.08));
}

body .pagefind-ui__result:first-child {
  border-top: none;
}

body .pagefind-ui__result:hover {
  background: var(--header-search-result-hover, rgba(255, 255, 255, 0.08)) !important;
}

body .pagefind-ui__result-title {
  font-size: 16px !important;
  font-weight: 600 !important;
  color: inherit !important;
  margin-bottom: 6px !important;
}

body .pagefind-ui__result-excerpt {
  font-size: 14px !important;
  line-height: 1.55 !important;
  color: var(--header-search-result-excerpt, var(--color-3dp, #c2c2c2)) !important;
}

body .pagefind-ui__result-tags {
  margin-top: 12px !important;
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
}

body .pagefind-ui__result-tag {
  display: inline-flex;
  align-items: center;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: 12px;
  font-weight: 600;
  background: var(--header-search-result-highlight, var(--primary));
  background: color-mix(in srgb, var(--header-search-result-highlight, var(--primary)) 18%, transparent);
  color: var(--header-search-result-highlight-text, #121212);
}

body .pagefind-ui__message,
body .pagefind-ui__loading {
  padding: 16px 20px !important;
  text-align: center;
  color: var(--header-search-result-excerpt, var(--color-3dp, #c2c2c2)) !important;
  font-size: 14px !important;
}

body .pagefind-ui__button {
  display: inline-flex !important;
  margin: 8px auto 0 !important;
  padding: 8px 18px !important;
  border-radius: 999px !important;
  border: 1px solid var(--header-search-clear, var(--primary)) !important;
  color: var(--header-search-clear, var(--primary)) !important;
  background: transparent !important;
  font-weight: 600 !important;
  transition: background 140ms ease, color 140ms ease, border-color 140ms ease;
}

body .pagefind-ui__button:hover,
body .pagefind-ui__button:focus-visible {
  outline: none !important;
  background: var(
    --header-search-background-focus,
    rgba(255, 255, 255, 0.12)
  ) !important;
  background: color-mix(in srgb, var(--header-search-clear, var(--primary)) 18%, transparent) !important;
  color: var(--header-search-result-title, #101010) !important;
}

body .pagefind-ui mark {
  background: transparent !important;
  color: var(--header-search-result-highlight, var(--primary)) !important;
  font-weight: 600 !important;
}

body .pagefind-ui__result-excerpt mark {
  color: var(--header-search-result-highlight, var(--primary)) !important;
}
